# 3cx_for_1c
Обработка и и плагин для интеграции телефонии 3CX в 1С:Предприятие 8

Папки:
 - CallTriggerCmdPlugin - плагин, который загружается в 3cx phone for windows.
 - CallTriggerCmdServiceProvider - описание формата обмена между CallTriggerCmdPlugin и V8AddInLibrary.
 - References - интеграционная компонента для создания плагинов 3cx phone for windows.
 - V8AddInLibrary - com-объект для подключения к 1С:Предприятие.
 - install - готовая сборка для инсталяции плагина.
 
 Файлы:
 - Телефон.epf - обработка, реализующая интерфейс sip-фона аналогичный стандартному интерфейсу 3cx phone for windows. Реализует программный интерфейс для управления всеми возможностями телефона.
 - ТестПрограммногоИнтерфейса.epf - обработка, реализующая графический интерфейс для тестирования программного интерфейса Телефон.epf.

Как работает ?
 CallTriggerCmdPlugin.dll загружается в память sip-фона 3cx phone for windows и управляет им, а так же получает события с через MyPhoneCRMIntegration.dll. V8AddInLibrary.dll загружается в память 1С:Предприятия как внешняя компонента и принимает команды, уведомляет о событиях через "ВнешнееСобытие". CallTriggerCmdPlugin и V8AddInLibrary связаны между собой через WFC используя описание протокола взаимодействия из CallTriggerCmdServiceProvider.dll. 
  Телефон.epf загружается в глобальную переменную на клиенте и далее два сценария:
  - Просто открывает форму и работает как sip-фон с похожим интерфейсом (естественно не полным) на 3cx phone for windows.
  - Форма не открывается. Программист использую программный интерфейс управляет телефоном, например создав собственные элементы управления.
